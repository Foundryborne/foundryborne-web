<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% if page.title %}{{ page.title }}{% else %}{{ site.title }}{% endif %}</title>
    <meta name="description"
        content="{% if page.description %}{{ page.description }}{% else %}{{ site.description }}{% endif %}">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ site.url }}{{ page.url }}">
    <meta property="og:title" content="{% if page.title %}{{ page.title }}{% else %}{{ site.title }}{% endif %}">
    <meta property="og:description"
        content="{% if page.description %}{{ page.description }}{% else %}{{ site.description }}{% endif %}">
    <meta property="og:image" content="{{ site.url }}/assets/foundryborne.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="{{ site.url }}{{ page.url }}">
    <meta property="twitter:title" content="{% if page.title %}{{ page.title }}{% else %}{{ site.title }}{% endif %}">
    <meta property="twitter:description"
        content="{% if page.description %}{{ page.description }}{% else %}{{ site.description }}{% endif %}">
    <meta property="twitter:image" content="{{ site.url }}/assets/foundryborne.png">

    <link rel="stylesheet" href="assets/style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
        href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&display=swap"
        rel="stylesheet" />
    <link rel="icon" type="image/png" href="assets/foundryborne.png" />
    <script>
        function openLightbox(imgElement) {
            const lightbox = document.getElementById("lightbox");
            const lightboxImg = document.getElementById("lightbox-img");
            // Gather all gallery images
            lightboxImages = Array.from(document.querySelectorAll('.gallery img')).map(img => img.src);
            currentIndex = lightboxImages.indexOf(imgElement.src);
            lightboxImg.src = imgElement.src;
            lightbox.style.display = "flex";
        }

        function closeLightbox() {
            const lightbox = document.getElementById("lightbox");
            lightbox.style.display = "none";
        }

        let lightboxImages = [];
        let currentIndex = 0;

        function prevImage(event) {
            event.stopPropagation();
            if (lightboxImages.length === 0) return;
            currentIndex = (currentIndex - 1 + lightboxImages.length) % lightboxImages.length;
            document.getElementById("lightbox-img").src = lightboxImages[currentIndex];
        }

        function nextImage(event) {
            event.stopPropagation();
            if (lightboxImages.length === 0) return;
            currentIndex = (currentIndex + 1) % lightboxImages.length;
            document.getElementById("lightbox-img").src = lightboxImages[currentIndex];
        }

        // Back to Top Button
        window.onscroll = function () { scrollFunction() };

        function scrollFunction() {
            var mybutton = document.getElementById("backToTopBtn");
            if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                mybutton.style.display = "block";
            } else {
                mybutton.style.display = "none";
            }
        }

        function topFunction() {
            document.body.scrollTop = 0;
            document.documentElement.scrollTop = 0;
        }
    </script>
</head>

<body>
    {% include header.html %}
    <main class="content">
        <div class="container">
            {{ content }}
        </div>
    </main>
    <button onclick="topFunction()" id="backToTopBtn" title="Go to top">â†‘</button>
    {% include footer.html %}
</body>

</html>